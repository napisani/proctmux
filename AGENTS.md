# AGENTS: proctmux (Go)

- Build: `make build` (or `go build -o bin/proctmux ./cmd/proctmux`).
- Run: `make run` (inside tmux) or `./bin/proctmux`.
- Test all: `make test` or `go test ./... -v`.
- Test package: `go test ./internal/proctmux -v`.
- Single test: `go test ./internal/proctmux -run '^TestName$' -v`.
- Lint: `go vet ./...` (optional: `golangci-lint run` if installed).
- Format: `go fmt ./...`; imports: `goimports -w .` (if installed) or `gofmt -s -w .`.
- Modules: `make tidy` (`go mod tidy`) before commits.
- Imports order: stdlib, blank line, external, blank line, module-local.
- Naming: Exported `MixedCaps`; unexported `mixedCaps`; avoid underscores.
- Types: Prefer small, focused structs; use `iota` for enums (see `ProcessStatus`).
- Errors: return `error` last; wrap with `fmt.Errorf("%w", err)`; avoid panics; use `errors.Is/As`.
- Context: pass `context.Context` for cancellation/timeouts in long operations.
- Concurrency: use channels/`sync`; guard shared state; avoid data races.
- Logging: prefer `log` over `fmt.Println` for errors.
- TMUX: run inside a tmux session; proctmux shells out to `tmux`.
- Makefile: shortcuts `build`, `run`, `test`, `watch`, `watch-test`, `dist`, `tidy`.
- Cursor/Copilot: none found; if added in `.cursor/rules/`, `.cursorrules`, or `.github/copilot-instructions.md`, follow them.
- CI: `.github/workflows/release.yml` exists (release-only); tests run locally with `go test`.
